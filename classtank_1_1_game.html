<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <!-- For Mobile Devices -->
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
        <meta name="generator" content="Doxygen 1.8.7"/>
        <script type="text/javascript" src="jquery-2.1.3.min.js"></script>
        <script>
          $(function(){
            $("td.memSeparator").remove();
          })
        </script>
        <title>Tank: tank::Game Class Reference</title>
        <!--<link href="tabs.css" rel="stylesheet" type="text/css"/>-->
        <script type="text/javascript" src="dynsections.js"></script>
        <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
        <link href="doxygen.css" rel="stylesheet" type="text/css" />
        <link rel="stylesheet" href="bootstrap3/css/bootstrap.min.css">
        <script src="bootstrap3/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="doxy-boot.js"></script>
    </head>
    <body>
        <nav class="navbar navbar-default" role="navigation">
            <div class="container">
                <div class="navbar-header">
                    <a class="navbar-brand">Tank </a>
                </div>
            </div>
        </nav>
        <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
            <div class="content" id="content">
                <div class="container">
                    <div class="row">
                        <div class="col-sm-12 panel panel-default" style="padding-bottom: 15px;">
                            <div style="margin-bottom: 15px;">
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>tank</b></li><li class="navelem"><a class="el" href="classtank_1_1_game.html">Game</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classtank_1_1_game-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">tank::Game Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Static class controlling game loop, <a class="el" href="classtank_1_1_window.html">Window</a> and <a class="el" href="classtank_1_1_world.html" title="Class for managing entities, encapsulating game states. ">World</a> stack.  
 <a href="classtank_1_1_game.html#details">More...</a></p>

<p><code>#include &lt;Tank/System/Game.hpp&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a8cdac13b227eb03f5bf14a4d36bc0549"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtank_1_1_game.html#a8cdac13b227eb03f5bf14a4d36bc0549">initialize</a> (<a class="el" href="structtank_1_1_vector.html">Vectoru</a> windowSize, int <a class="el" href="classtank_1_1_game.html#a369a10e3f6f51b150bdcbe4a26e95503">fps</a>=60)</td></tr>
<tr class="memdesc:a8cdac13b227eb03f5bf14a4d36bc0549"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the <a class="el" href="classtank_1_1_window.html">Window</a> and game.  <a href="#a8cdac13b227eb03f5bf14a4d36bc0549">More...</a><br /></td></tr>
<tr class="separator:a8cdac13b227eb03f5bf14a4d36bc0549"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3e44923a793d4db9c38d14ff38b07de"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae3e44923a793d4db9c38d14ff38b07de"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtank_1_1_game.html#ae3e44923a793d4db9c38d14ff38b07de">run</a> ()</td></tr>
<tr class="memdesc:ae3e44923a793d4db9c38d14ff38b07de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the game loop. <br /></td></tr>
<tr class="separator:ae3e44923a793d4db9c38d14ff38b07de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a951ccc8a3a53cf74f0444179e7a45326"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtank_1_1_game.html#a951ccc8a3a53cf74f0444179e7a45326">popWorld</a> ()</td></tr>
<tr class="memdesc:a951ccc8a3a53cf74f0444179e7a45326"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes the current <a class="el" href="classtank_1_1_world.html" title="Class for managing entities, encapsulating game states. ">World</a> at the end of the frame.  <a href="#a951ccc8a3a53cf74f0444179e7a45326">More...</a><br /></td></tr>
<tr class="separator:a951ccc8a3a53cf74f0444179e7a45326"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf3ea2d8102a71680b47524469edede6"><td class="memTemplParams" colspan="2">template&lt;typename T , typename... Args&gt; </td></tr>
<tr class="memitem:adf3ea2d8102a71680b47524469edede6"><td class="memTemplItemLeft" align="right" valign="top">static <a class="el" href="classtank_1_1observing__ptr.html">observing_ptr</a>&lt; T &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classtank_1_1_game.html#adf3ea2d8102a71680b47524469edede6">makeWorld</a> (Args &amp;&amp;...args)</td></tr>
<tr class="memdesc:adf3ea2d8102a71680b47524469edede6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a <a class="el" href="classtank_1_1_world.html" title="Class for managing entities, encapsulating game states. ">World</a>, which will become the active world next frame.  <a href="#adf3ea2d8102a71680b47524469edede6">More...</a><br /></td></tr>
<tr class="separator:adf3ea2d8102a71680b47524469edede6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96a5c05c94009a47adba2761b0ec63de"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a96a5c05c94009a47adba2761b0ec63de"></a>
static <a class="el" href="classtank_1_1observing__ptr.html">observing_ptr</a>&lt; <a class="el" href="classtank_1_1_world.html">World</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtank_1_1_game.html#a96a5c05c94009a47adba2761b0ec63de">world</a> ()</td></tr>
<tr class="memdesc:a96a5c05c94009a47adba2761b0ec63de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a pointer to the active <a class="el" href="classtank_1_1_world.html" title="Class for managing entities, encapsulating game states. ">World</a>. <br /></td></tr>
<tr class="separator:a96a5c05c94009a47adba2761b0ec63de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab76b39a80bb613bbbb2eac7ef49749d5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab76b39a80bb613bbbb2eac7ef49749d5"></a>
static std::unique_ptr&lt; <a class="el" href="classtank_1_1_window.html">Window</a> &gt;<br class="typebreak" />
 const &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtank_1_1_game.html#ab76b39a80bb613bbbb2eac7ef49749d5">window</a> ()</td></tr>
<tr class="memdesc:ab76b39a80bb613bbbb2eac7ef49749d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a <code>const unique_ptr&amp;</code> to the <a class="el" href="classtank_1_1_window.html">Window</a>. <br /></td></tr>
<tr class="separator:ab76b39a80bb613bbbb2eac7ef49749d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d269d26d82487a4367a28d2be927a1b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtank_1_1_game.html#a8d269d26d82487a4367a28d2be927a1b">stop</a> ()</td></tr>
<tr class="memdesc:a8d269d26d82487a4367a28d2be927a1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops the game loop.  <a href="#a8d269d26d82487a4367a28d2be927a1b">More...</a><br /></td></tr>
<tr class="separator:a8d269d26d82487a4367a28d2be927a1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:ae3c2bbc3cdbf3c55d579c08f2febeeb4"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classtank_1_1_logger.html">Logger</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtank_1_1_game.html#ae3c2bbc3cdbf3c55d579c08f2febeeb4">log</a> {&quot;log.txt&quot;}</td></tr>
<tr class="memdesc:ae3c2bbc3cdbf3c55d579c08f2febeeb4"><td class="mdescLeft">&#160;</td><td class="mdescRight">A log stream.  <a href="#ae3c2bbc3cdbf3c55d579c08f2febeeb4">More...</a><br /></td></tr>
<tr class="separator:ae3c2bbc3cdbf3c55d579c08f2febeeb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac419a6b086f43ade82548cdba01993c2"><td class="memItemLeft" align="right" valign="top">static std::stringstream&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtank_1_1_game.html#ac419a6b086f43ade82548cdba01993c2">keystream</a></td></tr>
<tr class="memdesc:ac419a6b086f43ade82548cdba01993c2"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classtank_1_1_keyboard.html" title="Static class representing the state of the keyboard. ">Keyboard</a> input stream.  <a href="#ac419a6b086f43ade82548cdba01993c2">More...</a><br /></td></tr>
<tr class="separator:ac419a6b086f43ade82548cdba01993c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a369a10e3f6f51b150bdcbe4a26e95503"><td class="memItemLeft" align="right" valign="top">static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtank_1_1_game.html#a369a10e3f6f51b150bdcbe4a26e95503">fps</a> {60}</td></tr>
<tr class="memdesc:a369a10e3f6f51b150bdcbe4a26e95503"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frame-rate of the game (60)  <a href="#a369a10e3f6f51b150bdcbe4a26e95503">More...</a><br /></td></tr>
<tr class="separator:a369a10e3f6f51b150bdcbe4a26e95503"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Static class controlling game loop, <a class="el" href="classtank_1_1_window.html">Window</a> and <a class="el" href="classtank_1_1_world.html" title="Class for managing entities, encapsulating game states. ">World</a> stack. </p>
<h1><a class="el" href="classtank_1_1_game.html" title="Static class controlling game loop, Window and World stack. ">Game</a></h1>
<p>The <a class="el" href="classtank_1_1_game.html" title="Static class controlling game loop, Window and World stack. ">Game</a> class allows you to initialize, start and stop the game. It provides control over the main game loop and the Worlds in the game.</p>
<h2>Starting a game</h2>
<p>To start the engine, call <a class="el" href="classtank_1_1_game.html#a8cdac13b227eb03f5bf14a4d36bc0549" title="Initializes the Window and game. ">Game::initialize()</a>. This will create the window, and initialize rendering.</p>
<p>Before starting the game, you should create a <a class="el" href="classtank_1_1_world.html" title="Class for managing entities, encapsulating game states. ">World</a> with <a class="el" href="classtank_1_1_game.html#adf3ea2d8102a71680b47524469edede6" title="Creates a World, which will become the active world next frame. ">Game::makeWorld&lt;&gt;()</a>. This will create a world and prepare to add it to the top of the world stack. You can then call <a class="el" href="classtank_1_1_game.html#ae3e44923a793d4db9c38d14ff38b07de" title="Starts the game loop. ">Game::run()</a> to enter the main loop.</p>
<p>Example Main.cpp:</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> main()</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="classtank_1_1_game.html#a8cdac13b227eb03f5bf14a4d36bc0549">tank::Game::initialize</a>({windowX,windowY}, desiredFPS)) {</div>
<div class="line">       tank::Game::makeWorld&lt;MyMenuWorld&gt;(); <span class="comment">// Create a new world</span></div>
<div class="line">       <a class="code" href="classtank_1_1_game.html#ae3e44923a793d4db9c38d14ff38b07de">tank::Game::run</a>(); <span class="comment">// enter the game loop, which will add the</span></div>
<div class="line">                          <span class="comment">// created world to the top of the world stack</span></div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p>One iteration of the main loop is equivalent to a frame. At the beginning of a frame, the last of any worlds created in the last frame with <a class="el" href="classtank_1_1_game.html#adf3ea2d8102a71680b47524469edede6" title="Creates a World, which will become the active world next frame. ">makeWorld()</a> will be added to the top of the world stack. If the world stack is empty, the loop will exit. Otherwise, the top of the stack will become the active world. The active world will then be updated and drawn. Finally, if <a class="el" href="classtank_1_1_game.html#a951ccc8a3a53cf74f0444179e7a45326" title="Removes the current World at the end of the frame. ">popWorld()</a> has been called, the active world will be destroyed, and the next frame will begin.</p>
<h2>Managing Worlds</h2>
<p>Tank currently uses a simple stack to manage worlds. In a frame, you can add one world to the top of the stack, and pop the currently active world from the stack, destroying it.</p>
<p>In the following example, rows below <b>Function</b> represent sequential function calls in that frame, while rows above <b>Function</b> represent the world stack at the beginning of each frame, going from the bottom up. A <a class="el" href="classtank_1_1_world.html" title="Class for managing entities, encapsulating game states. ">World</a> item in italics indicates that it is the current world.</p>
<p>| Start | Frame 1 | Frame 2 | Frame 3 | Frame 4 | :------------&mdash;: | :------------&mdash;: | :-------------&mdash;: | :-------&mdash;: | :-: | - | - | <em>Main</em> | - | - | - | <em>Menu</em> | Menu | <em>Menu</em> | <em>Main</em> | <b>Function</b> | <b>Function</b> | <b>Function</b> | <b>Function</b> | <b>Function</b> | <a class="el" href="classtank_1_1_game.html#adf3ea2d8102a71680b47524469edede6" title="Creates a World, which will become the active world next frame. ">makeWorld&lt;Main&gt;()</a> | <a class="el" href="classtank_1_1_game.html#adf3ea2d8102a71680b47524469edede6" title="Creates a World, which will become the active world next frame. ">makeWorld&lt;Main&gt;()</a> | <a class="el" href="classtank_1_1_game.html#a951ccc8a3a53cf74f0444179e7a45326" title="Removes the current World at the end of the frame. ">popWorld()</a> | <a class="el" href="classtank_1_1_game.html#adf3ea2d8102a71680b47524469edede6" title="Creates a World, which will become the active world next frame. ">makeWorld&lt;Main&gt;()</a> | <a class="el" href="classtank_1_1_game.html#a951ccc8a3a53cf74f0444179e7a45326" title="Removes the current World at the end of the frame. ">popWorld()</a> | <a class="el" href="classtank_1_1_game.html#adf3ea2d8102a71680b47524469edede6" title="Creates a World, which will become the active world next frame. ">makeWorld&lt;Menu&gt;()</a> | - | <a class="el" href="classtank_1_1_game.html#a951ccc8a3a53cf74f0444179e7a45326" title="Removes the current World at the end of the frame. ">popWorld()</a> | <a class="el" href="classtank_1_1_game.html#a951ccc8a3a53cf74f0444179e7a45326" title="Removes the current World at the end of the frame. ">popWorld()</a> | -</p>
<p>There are some important things to note:</p>
<ul>
<li>only the last <a class="el" href="classtank_1_1_game.html#adf3ea2d8102a71680b47524469edede6" title="Creates a World, which will become the active world next frame. ">makeWorld()</a> call before the next frame will add that world to the stack; however, all makeWorld calls will <em>create</em> a world, calling its constructor, but all but the last will be destroyed.</li>
<li>multiple calls to <a class="el" href="classtank_1_1_game.html#a951ccc8a3a53cf74f0444179e7a45326" title="Removes the current World at the end of the frame. ">popWorld()</a> have no additional effect</li>
<li>calling <a class="el" href="classtank_1_1_game.html#a951ccc8a3a53cf74f0444179e7a45326" title="Removes the current World at the end of the frame. ">popWorld()</a> pops the <em>currently active</em> <a class="el" href="classtank_1_1_world.html" title="Class for managing entities, encapsulating game states. ">World</a>, regardless of whether <a class="el" href="classtank_1_1_game.html#adf3ea2d8102a71680b47524469edede6" title="Creates a World, which will become the active world next frame. ">makeWorld()</a> has been called.</li>
<li>if the <a class="el" href="classtank_1_1_world.html" title="Class for managing entities, encapsulating game states. ">World</a> stack is empty at the beginning of a frame, the game loop ends.</li>
</ul>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classtank_1_1_world.html" title="Class for managing entities, encapsulating game states. ">World</a> </dd>
<dd>
<a class="el" href="classtank_1_1_logger.html" title="A stream for logging debug information to a file. ">Logger</a> </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a8cdac13b227eb03f5bf14a4d36bc0549"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool tank::Game::initialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtank_1_1_vector.html">Vectoru</a>&#160;</td>
          <td class="paramname"><em>windowSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fps</em> = <code>60</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initializes the <a class="el" href="classtank_1_1_window.html">Window</a> and game. </p>
<p>Creates a window of usable size <code>windowSize</code> with an OpenGL rendering context, and detects plugged in controllers.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">windowSize</td><td>The window canvas size in pixels. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> on success. </dd></dl>

</div>
</div>
<a class="anchor" id="adf3ea2d8102a71680b47524469edede6"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T , typename... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtank_1_1observing__ptr.html">observing_ptr</a>&lt; T &gt; tank::Game::makeWorld </td>
          <td>(</td>
          <td class="paramtype">Args &amp;&amp;...&#160;</td>
          <td class="paramname"><em>args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a <a class="el" href="classtank_1_1_world.html" title="Class for managing entities, encapsulating game states. ">World</a>, which will become the active world next frame. </p>
<p>This is a factory function which creates an instance of a class deriving from <a class="el" href="classtank_1_1_world.html" title="Class for managing entities, encapsulating game states. ">World</a>. The world is constructed immediately, passing the <code>args</code> provided. At the beginning of the next frame, the world is pushed on top of the world stack, making it the active world.</p>
<p><b>NB:</b> a second world created in a single frame will destroy the first.</p>
<p>Example code:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>MyWorld : <span class="keyword">public</span> <a class="code" href="classtank_1_1_world.html">tank::World</a></div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    MyWorld(<span class="keywordtype">int</span> a, <span class="keywordtype">char</span> b) : tank::World() {}</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line">Game::makeWorld&lt;MyWorld&gt;(42, <span class="charliteral">&#39;z&#39;</span>);</div>
</div><!-- fragment --><dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>The type of world to create. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>Arguments to pass to T's constructor.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer of type T to the newly created <a class="el" href="classtank_1_1_world.html" title="Class for managing entities, encapsulating game states. ">World</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="a951ccc8a3a53cf74f0444179e7a45326"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tank::Game::popWorld </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Removes the current <a class="el" href="classtank_1_1_world.html" title="Class for managing entities, encapsulating game states. ">World</a> at the end of the frame. </p>
<p>At the beginning of the next frame, one of two things will happen:</p>
<ul>
<li>There is a world on top of the world stack: it will become active.</li>
<li>The world stack is empty: the game loop will end. </li>
</ul>

</div>
</div>
<a class="anchor" id="a8d269d26d82487a4367a28d2be927a1b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void tank::Game::stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stops the game loop. </p>
<p>This exits the game loop, but does not close the <a class="el" href="classtank_1_1_window.html">Window</a>. This will effectively freeze your window application, and may result in it being killed by the operating system. The loop can be restarted (continuing the game where it left off) by calling <a class="el" href="classtank_1_1_game.html#ae3e44923a793d4db9c38d14ff38b07de" title="Starts the game loop. ">Game::run()</a> again.</p>
<p>You can avoid your application being killed by polling its events manually with <code>Game::window.pollEvent()</code>.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classtank_1_1_window.html">Window</a> </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a369a10e3f6f51b150bdcbe4a26e95503"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int tank::Game::fps {60}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Frame-rate of the game (60) </p>
<dl class="section return"><dt>Returns</dt><dd>Value passed to <a class="el" href="classtank_1_1_game.html#a8cdac13b227eb03f5bf14a4d36bc0549" title="Initializes the Window and game. ">Game::initialize()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ac419a6b086f43ade82548cdba01993c2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::stringstream tank::Game::keystream</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classtank_1_1_keyboard.html" title="Static class representing the state of the keyboard. ">Keyboard</a> input stream. </p>
<p>This stores the ASCII-representable keystrokes entered into the game window.</p>
<p>You likely want to clear the stream before using it by emptying it into a string, or setting its underlying string representation: </p><pre class="fragment">std::string s;
tank::Game::keystream &gt;&gt; s;
tank::Game::keystream.clear();

// or
tank::game::keystream.str("");
tank::Game::keystream.clear();</pre> 
</div>
</div>
<a class="anchor" id="ae3c2bbc3cdbf3c55d579c08f2febeeb4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtank_1_1_logger.html">Logger</a> tank::Game::log {&quot;log.txt&quot;}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A log stream. </p>
<p>This acts like a standard stream (<em>e.g.</em> <code>std::cout</code>), and writes to the file <code>log.txt</code> in the directory in which the game was run. If <code>DEBUG</code> is defined, it also outputs to <code>std::clog</code>.</p>
<p>Tank writes to <a class="el" href="classtank_1_1_game.html#ae3c2bbc3cdbf3c55d579c08f2febeeb4" title="A log stream. ">Game::log</a> when initializing and closing, so <code>log.txt</code> can show you if the engine is failing at some point.</p>
<p><b>NB:</b> remember to finish your log with <code>std::endl</code>.</p>
<p>Example code:</p>
<div class="fragment"><div class="line">MyEnt() : tank::Entity({0, 0})</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="classtank_1_1_game.html#ae3c2bbc3cdbf3c55d579c08f2febeeb4">Game::log</a> &lt;&lt; <span class="stringliteral">&quot;Created MyEnt at position (0, 0)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">}</div>
</div><!-- fragment --><p>Example <code>log.txt</code>: </p><pre class="fragment">[00:00:00.231] Log file created
[00:00:00.400] Opening Window
[00:00:00.641] Loading main state
[00:00:00.700] Loading World...
[00:00:00.710] Created MyEnt at position (0, 0)
[00:00:00.714] Entering main loop
[00:00:33.227] Unloading World...
[00:00:33.230] Closing Window
[00:00:33.233] Closing log file</pre> 
</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
</div>
</div>
</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>
</small></address>
</body>
</html>
